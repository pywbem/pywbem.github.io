<!DOCTYPE html>
<html>
<head>
<base href="..">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="robots" content="index, follow">
<meta name="description" content="This site provides documentation for the PyWBEM projects on GitHub.">
<title>PyWBEM Client - Contributing</title>
<link rel="stylesheet" href="resources/style.css" type="text/css">
</head>
<body>
<script src="resources/jquery.js"></script>
<script src="resources/script.js"></script>
<div id="navgrid">
<div id="navbar_html"></div>
<script type="text/javascript">
  load_url_into_id('navbar.html', 'navbar_html');
</script>
<section id="navcontent">
<div id="content">
<h1 align="center">PyWBEM Client - Contributing</h1>
<div id="header_html"></div>
<script type="text/javascript">
  load_url_into_id('header.html', 'header_html');
</script>
<!-- end of page header -->

<h2>Contributing</h2>

<p>The PyWBEM Client project has its repository at
<a href="https://github.com/pywbem/pywbem" target="_blank">https://github.com/pywbem/pywbem</a>.</p>

<p>The maintainers all have day jobs, so its development is
really a community effort. Contributions are always welcome!</p>

<p>If you want to contribute, you can do that in a number of areas:</p>

<ul>
  <li>Testing on new platforms (operating systems, Python implementations and
    versions)</li>
  <li>Extending the unit test cases</li>
  <li>Reporting bugs you encounter, on the
    <a href="https://github.com/pywbem/pywbem/issues" target="_blank">issue tracker</a></li>
  <li>Fixing bugs or implementing feature requests listed on the
    <a href="https://github.com/pywbem/pywbem/issues" target="_blank">issue tracker</a></li>
  <li>Doing things listed on the
    <a href="https://github.com/pywbem/pywbem/blob/master/src/TODO.md" target="_blank">ToDo
    list</a></li>
</ul>

<h2>Development</h2>

<p>This section provides some hints when you want to participate in the
development of the PyWBEM Client. You can ignore it when you just want to use
the PyWBEM Client and program against it.</p>

<p>First, create a local clone of the PyWBEM Git repository:</p>

<pre><code>git clone git@github.com:pywbem/pywbem.git
cd pywbem
</code></pre>

<p>It is strongly recommended to use a
<a href="http://docs.python-guide.org/en/latest/dev/virtualenvs/" target="_blank">virtual
Python environment</a>
for each version of Python supported by PyWBEM:</p>

<pre><code>mkvirtualenv -p python2.6 pywbem26
mkvirtualenv -p python2.7 pywbem27
</code></pre>

<p>As of the PyWBEM Client v0.8.0, its setup script (<tt>setup.py</tt>)
establishes any Python prerequisites for its own development when invoked with
the "develop" command. This needs to be done in each of the virtual Python
environments that were set up for PyWBEM (do not use <tt>sudo</tt>,
otherwise it will install into the system Python):</p>

<pre><code>cd src
workon pywbem26
python setup.py develop
workon pywbem27
python setup.py develop
</code></pre>

<p>In addition, the setup script establishes any OS-level prerequisites for its
own development when invoked with the "develop_os" command:</p>

<pre><code>sudo python setup.py develop_os
</code></pre>

<p>The PyWBEM Client also provides a makefile. Invoking <tt>make</tt> without
arguments will print the possible targets:</p>

<pre><code>make

makefile for pywbem
Package version will be: 0.8.0rc4
Valid targets are:
  develop    - Prepare the development environment by installing prerequisites
  build      - Build the distribution archive: ../dist/pywbem-0.8.0/pywbem-0.8.0rc4.zip
  buildwin   - Build the Windows installable: ../dist/pywbem-0.8.0/pywbem-0.8.0rc4.win-amd64.exe (on Win 64-bit)
  builddoc   - Build documentation in: build_doc
  check      - Run PyLint on sources and save results in: pylint.log
  install    - Install distribution archive to active Python environment
  test       - Run unit tests and save results in: test.log
  clean      - Remove any temporary files
  all        - Do everything locally (except publish/upload)
  upload     - Upload the distribution archive to PyPI
  publish    - Publish documentation to: ../../pywbem.github.io/pywbem/doc/0.8.0/doc
  clobber    - Remove any build products
</code></pre>

<h2>Testing</h2>

<p>The PyWBEM Client has some amount of unit test cases. Invoke
<tt>make test</tt> to build and install the PyWBEM Client and to run the
unit test cases on the current operating system and the current Python
environment.</p>

<p>Any help in completing the unit test cases is very welcome. If you feel like
helping, search for occurrences of <tt>TODO</tt> in the Python source files
in directory <tt>src/testsuite</tt>.</p>

<h3>Test Matrix</h3>

<p>The following table lists the environments in which the installation and the
unit test cases are tested. The responsible person for a row should open issues
if any tests are failing.</p>

<table border="1" style="width:100%">
  <tr>
    <th>OS Type</th>
    <th>OS Name</th>
    <th>OS Version</th>
    <th>HW platform</th>
    <th>Python Version</th>
    <th>Responsible</th>
    <th>Remarks</th>
  </tr>
  <tr>
    <td>Linux</td>
    <td>Ubuntu</td>
    <td>12.04</td>
    <td>x86_64</td>
    <td>2.6, 2.7</td>
    <td>Andreas Maier</td>
    <td>Results on <a href="https://travis-ci.org/pywbem/pywbem" target="_blank">Travis CI</a></td>
  </tr>
  <tr>
    <td>Linux</td>
    <td>Ubuntu</td>
    <td>14.04</td>
    <td>i386, x86_64</td>
    <td>2.6, 2.7</td>
    <td>Andreas Maier</td>
    <td></td>
  </tr>
  <tr>
    <td>Linux</td>
    <td>Fedora</td>
    <td>22</td>
    <td>i386, x86_64</td>
    <td>2.6, 2.7</td>
    <td>Andreas Maier</td>
    <td></td>
  </tr>
  <tr>
    <td>Linux</td>
    <td>CentOS</td>
    <td>7</td>
    <td>x86_64</td>
    <td>2.6, 2.7</td>
    <td>Andreas Maier</td>
    <td></td>
  </tr>
  <tr>
    <td>Linux</td>
    <td>CentOS</td>
    <td>6.7</td>
    <td>i386, x86_64</td>
    <td>2.6, 2.7</td>
    <td>Andreas Maier</td>
    <td></td>
  </tr>
  <tr>
    <td>Linux</td>
    <td>openSUSE</td>
    <td>13</td>
    <td>i386, x86_64</td>
    <td>2.6, 2.7</td>
    <td>Andreas Maier</td>
    <td></td>
  </tr>
  <tr>
    <td>Linux</td>
    <td>Debian</td>
    <td>8</td>
    <td>i386, x86_64</td>
    <td>2.6, 2.7</td>
    <td>Andreas Maier</td>
    <td></td>
  </tr>
</table> 

<h2>Submitting code</h2>

<p>The number of committers in the PyWBEM Client project is small and should
stay small. If you are not a committer but want to submit code, you have two
choices:</p>

<ul>

<li>
<p>Pull request (preferred):</p>
<p>Create a fork of the PyWBEM Client project (anywhere you have a public Git
server, but there are some advantages doing that on GitHub), develop and
commit your changes there, and once you are done, create a pull request
targeting the PyWBEM Client project on GitHub
(<a href="https://github.com/pywbem/pywbem" target="_blank">https://github.com/pywbem/pywbem</a>).</p>
<p>It is helpful if the pull request is related to an issue in the
<a href="https://github.com/pywbem/pywbem/issues" target="_blank">PyWBEM Client issue tracker</a>.</p>
<p>A good description on how to use git on GitHub forks, can be found in the
<a href="https://guides.github.com/activities/forking/" target="_blank">GitHub Guide: Forking Projects</a>.</p>
</li>

<li>
<p>Patch file:</p>
<p>Work in your local Git clone, and once you are done, create a patch file
reflecting your changes. Attach the patch file to an issue in the
<a href="https://github.com/pywbem/pywbem/issues" target="_blank">issue tracker</a>.
The commit level in the PyWBEM Client project on GitHub for which the patch
file is intended should be indicated somehow.</p>
</li>

</ul>

<h2>Troubleshooting</h2>

<p>As a PyWBEM developer, you may work on the development environment and not
everything may work right all the time. Here is a list of things that have
gone wrong in the past, and how to resolve them.</p>

<p>These issues should not occur for users of PyWBEM, because the PyWBEM setup
script (<tt>setup.py</tt>) takes care of them.</p>

<ul>
<li><p>Error when installing M2Crypto (e.g. as part of installing the PyWBEM
Client):</p>

<p>unable to execute swig: No such file or directory</p>

<p>Root cause: This error occurs when M2Crypto is installed as part of the
PyWBEM Client installation, and the <tt>swig</tt> command is not
available.</p>

<p>Solution: Install Swig (Linux: package <tt>swig</tt>). The M2Crypto
installation requires at least Swig version 2.0. If your operating
system does not provide for such a version, download and build Swig 2.0.
Note that this is done automatically by the "develop" and "install" commands
of the setup script of the PyWBEM Client.</p></li>
<li><p>Error when installing M2Crypto (e.g. as part of installing PyWBEM):</p>

<p>swig error : Unrecognized option -builtin</p>

<p>Root cause: This error occurs when M2Crypto is installed as part of the
PyWBEM Client installation, and the version of <tt>swig</tt> is not
sufficient. The M2Crypto installation requires at least Swig version 2.0.</p>

<p>Solution: Update your version of Swig to at least 2.0. If your operating
system does not provide for such a version, download and build Swig 2.0.
Note that this is done automatically by the "develop_os" and "install_os"
commands of the setup script of the PyWBEM Client.</p></li>
<li><p>Error when building Swig:</p>

<p>configure: error: Cannot find pcre-config script from PCRE (Perl Compatible
Regular Expressions) library package.</p>

<p>Root cause: The PCRE development package is not installed.</p>

<p>Solution: Install the PCRE development package:</p>

<pre><code>sudo yum install pcre-devel         # if RedHat-based
sudo apt-get install pcre-devel     # if Debian-based
sudo zypper install pcre-devel      # if SUSE-based
</code></pre></li>
<li><p>Error when installing M2Crypto (e.g. as part of installing PyWBEM):</p>

<p>SWIG/_m2crypto.i:31: Error: Unable to find 'openssl/opensslv.h'<br>
SWIG/_m2crypto.i:45: Error: Unable to find 'openssl/safestack.h'<br>
SWIG/_evp.i:12: Error: Unable to find 'openssl/opensslconf.h'<br>
SWIG/_ec.i:7: Error: Unable to find 'openssl/opensslconf.h'</p>

<p>Root cause: The OpenSSL development package is not installed.</p>

<p>Solution: Install the OpenSSL development package:</p>

<pre><code>sudo yum install openssl-devel      # if RedHat-based
sudo apt-get install libssl-devel   # if Debian-based
sudo zypper install openssl-devel   # if SUSE-based
</code></pre></li>
<li><p>Note that installing the PyWBEM Client to the system Python invokes the
M2Crypto build also under root permissions, so the new Swig version needs to be
available via the PATH of root, in this case.</p>

<p>Verify that the new version is available both for your userid and for
root:</p>

<pre><code>swig -version
sudo swig -version
</code></pre>
</li>

</ul>

<!-- common page remainder across all pages -->
<div id="footer_html"></div>
<script type="text/javascript">
  load_url_into_id('footer.html', 'footer_html');
</script>
</div>
</section>
</div>
</body>
</html>
